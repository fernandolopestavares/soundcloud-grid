webpackJsonp([1],{LHSm:function(t,e,i){t.exports=i.p+"static/img/track-placeholder.675418f.png"},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("/5sW"),r=i("NYxO"),s=i("T+v0"),l=i.n(s),n=i("Dd8w"),c=i.n(n),o={name:"stop-circle-outline-icon",props:{title:{type:String,default:"Stop circle outline icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String}}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"material-design-icon stop-circle-outline-icon",attrs:{"aria-hidden":this.decorative,role:"img","aria-label":this.title}},[e("svg",{staticClass:"material-design-icon__svg",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:this.fillColor}},[e("title",[this._v(this._s(this.title))]),this._v(" "),e("path",{attrs:{d:"M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4M9,9V15H15V9"}})])])},staticRenderFns:[]},d=i("VU/8")(o,u,!1,null,null,null).exports,h=i("MYII"),p={name:"GridTrack",components:{StopIcon:d,VueClazyLoad:h.VueClazyLoad},props:["track"],data:function(){return{show_image:!1}},computed:{setGridSpan:function(){return"span-"+Math.floor(2*Math.random()+1)}},methods:{imageLoaded:function(){this.show_image=!0},setPlaceholder:function(){this.$store.commit("SET_IMAGE_PLACEHOLDER",this.track),this.imageLoaded()},togglePlayback:function(){this.$store.commit("SET_CURRENT_TRACK",this.track)}}},_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:"grid-track "+t.setGridSpan+(t.track.is_playing?" is-playing":"")+(t.track.has_error?" has-error":"")},[i("button",{staticClass:"btn",attrs:{theme:"overlay",title:t.track.is_playing?"Stop playback":"Play track",disabled:!0===t.track.has_error},on:{click:t.togglePlayback}},[i("stop-icon")],1),t._v(" "),i("vue-clazy-load",{attrs:{src:t.track.artwork_url}},[i("transition",{attrs:{name:"fade"}},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.show_image,expression:"show_image"}],staticClass:"track-image",attrs:{src:t.track.artwork_url,alt:"Album art for "+t.track.title},on:{load:t.imageLoaded}})]),t._v(" "),i("div",{attrs:{slot:"placeholder"},slot:"placeholder"},[i("transition",{attrs:{name:"fade"}},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.show_image,expression:"show_image"}],staticClass:"track-image placeholder-image",attrs:{src:t.track.artwork_url,alt:"Placeholder image for "+t.track.title},on:{error:t.setPlaceholder}})])],1)],1)],1)},staticRenderFns:[]},f=i("VU/8")(p,_,!1,null,null,null).exports,m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:"tiles"===this.type?"loader-tiles":"loader-spinner",attrs:{"aria-label":this.label}},["tiles"===this.type?[e("div",{staticClass:"loader-tile"}),this._v(" "),e("div",{staticClass:"loader-tile"}),this._v(" "),e("div",{staticClass:"loader-tile"}),this._v(" "),e("div",{staticClass:"loader-tile"})]:this._e()],2)},staticRenderFns:[]},v=i("VU/8")({name:"Loader",props:["type","label"]},m,!1,null,null,null).exports,g={name:"Grid",components:{GridTrack:f,Loader:v},computed:c()({},Object(r.b)(["loadingContent","searchValueStatic","tracklist"])),created:function(){this.$store.dispatch("fetchTracks")}},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"track-grid-container"},[t.loadingContent?i("div",{staticClass:"empty-state-container"},[i("loader",{attrs:{type:"tiles",label:"Fetching tracks"}}),t._v(" "),i("h3",[t._v("Fetching tracks...")])],1):i("div",{staticClass:"track-grid",attrs:{id:"grid"}},t._l(t.tracklist,function(t){return i("grid-track",{key:"grid-"+t.id,attrs:{track:t}})})),t._v(" "),t.loadingContent||0!==t.tracklist.length?t._e():i("div",{staticClass:"empty-state-container"},[i("h3",[t._v("There are no results for "+t._s(t.searchValueStatic)+".")]),t._v(" "),i("p",[t._v("Check your spelling, simplify your search terms, or try searching for something else.")])])])},staticRenderFns:[]},k=i("VU/8")(g,y,!1,null,null,null).exports,C={name:"view-grid-icon",props:{title:{type:String,default:"View grid icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String}}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"material-design-icon view-grid-icon",attrs:{"aria-hidden":this.decorative,role:"img","aria-label":this.title}},[e("svg",{staticClass:"material-design-icon__svg",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:this.fillColor}},[e("title",[this._v(this._s(this.title))]),this._v(" "),e("path",{attrs:{d:"M3,11H11V3H3M3,21H11V13H3M13,21H21V13H13M13,3V11H21V3"}})])])},staticRenderFns:[]},P=i("VU/8")(C,T,!1,null,null,null).exports,V={name:"magnify-icon",props:{title:{type:String,default:"Magnify icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String}}},S={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"material-design-icon magnify-icon",attrs:{"aria-hidden":this.decorative,role:"img","aria-label":this.title}},[e("svg",{staticClass:"material-design-icon__svg",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:this.fillColor}},[e("title",[this._v(this._s(this.title))]),this._v(" "),e("path",{attrs:{d:"M9.5,3C13.09,3 16,5.91 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16C5.91,16 3,13.09 3,9.5C3,5.91 5.91,3 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"}})])])},staticRenderFns:[]},L=i("VU/8")(V,S,!1,null,null,null).exports,b={name:"playlist-play-icon",props:{title:{type:String,default:"Playlist play icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String}}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"material-design-icon playlist-play-icon",attrs:{"aria-hidden":this.decorative,role:"img","aria-label":this.title}},[e("svg",{staticClass:"material-design-icon__svg",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:this.fillColor}},[e("title",[this._v(this._s(this.title))]),this._v(" "),e("path",{attrs:{d:"M19,9H2V11H19V9M19,5H2V7H19V5M2,15H15V13H2V15M17,13V19L22,16L17,13Z"}})])])},staticRenderFns:[]},E=i("VU/8")(b,w,!1,null,null,null).exports,H={name:"settings-icon",props:{title:{type:String,default:"Settings icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String}}},M={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"material-design-icon settings-icon",attrs:{"aria-hidden":this.decorative,role:"img","aria-label":this.title}},[e("svg",{staticClass:"material-design-icon__svg",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:this.fillColor}},[e("title",[this._v(this._s(this.title))]),this._v(" "),e("path",{attrs:{d:"M12,15.5C10.07,15.5 8.5,13.93 8.5,12C8.5,10.07 10.07,8.5 12,8.5C13.93,8.5 15.5,10.07 15.5,12C15.5,13.93 13.93,15.5 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"}})])])},staticRenderFns:[]},R={name:"Navbar",components:{GridIcon:P,MagnifyIcon:L,PlaylistPlayIcon:E,SettingsIcon:i("VU/8")(H,M,!1,null,null,null).exports},data:function(){return{selected_filter:"genre",show_filters:!1,filters:[{id:1,text:"Genre",param:"genre"},{id:2,text:"Username",param:"user"},{id:3,text:"Track Title",param:"title"}]}},computed:c()({},Object(r.b)(["loadingContent","searchFilterType","searchValue","searchPlaceholder","viewPlaylist"])),methods:{toggleFiltersMenu:function(){this.show_filters=!this.show_filters},closeFiltersMenu:function(){this.show_filters=!1},togglePlaylist:function(){this.$store.state.view_playlist=!this.$store.state.view_playlist},selectFilter:function(t,e){t.preventDefault(),this.$store.commit("SELECT_FILTER",e),this.selected_filter=e,this.$refs.search.focus(),this.closeFiltersMenu()},searchTracks:function(){this.$store.dispatch("fetchTracks",this.$store.state.search.value)},updateSearchValue:function(t){this.$store.commit("UPDATE_SEARCH_VALUE",t.target.value)}}},$={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",{staticClass:"navbar",attrs:{id:"app-controls"}},[i("button",{staticClass:"btn",attrs:{id:"playlist-toggle",theme:"light",title:t.viewPlaylist?"Hide playlist":"Show playlist"},on:{click:t.togglePlaylist}},[i("playlist-play-icon"),t._v(" "),i("grid-icon")],1),t._v(" "),i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeFiltersMenu,expression:"closeFiltersMenu"}],staticClass:"filters-container"},[i("button",{staticClass:"btn",class:{"is-active":t.show_filters},attrs:{id:"filters-toggle",theme:"light",title:"Select a filter"},on:{click:t.toggleFiltersMenu}},[i("settings-icon")],1),t._v(" "),i("transition",{attrs:{name:"filters-menu"}},[t.show_filters?i("ul",{staticClass:"menu-filters",attrs:{id:"filters-list"}},t._l(t.filters,function(e){return i("li",{key:e.id,staticClass:"menu-item"},[i("a",{staticClass:"menu-item-link",attrs:{"data-filter-param":e.param,href:"#"},on:{click:function(i){t.selectFilter(i,e.param)}}},[t._v("\n            "+t._s(e.text)+"\n          ")])])})):t._e()])],1),t._v(" "),i("div",{staticClass:"search-container"},[i("label",{staticClass:"track-filter-label",attrs:{for:"search-tracks"}},[t._v("Search")]),t._v(" "),i("input",{ref:"search",staticClass:"track-filter-input",attrs:{id:"search-tracks",type:"text",disabled:t.loadingContent,placeholder:t.searchPlaceholder,"data-filter-type":t.searchFilterType},domProps:{value:t.searchValue},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.searchTracks(e):null},input:t.updateSearchValue}}),t._v(" "),i("button",{staticClass:"btn",attrs:{theme:"primary",disabled:!t.searchValue||t.loadingContent,title:t.searchValue?"Click to search for "+t.searchValue:"Enter a search value"},on:{click:t.searchTracks}},[i("magnify-icon")],1)])])},staticRenderFns:[]},F=i("VU/8")(R,$,!1,null,null,null).exports,x={name:"play-icon",props:{title:{type:String,default:"Play icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String}}},A={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"material-design-icon play-icon",attrs:{"aria-hidden":this.decorative,role:"img","aria-label":this.title}},[e("svg",{staticClass:"material-design-icon__svg",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:this.fillColor}},[e("title",[this._v(this._s(this.title))]),this._v(" "),e("path",{attrs:{d:"M8,5.14V19.14L19,12.14L8,5.14Z"}})])])},staticRenderFns:[]},I=i("VU/8")(x,A,!1,null,null,null).exports,U={name:"playlist-remove-icon",props:{title:{type:String,default:"Playlist remove icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String}}},O={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"material-design-icon playlist-remove-icon",attrs:{"aria-hidden":this.decorative,role:"img","aria-label":this.title}},[e("svg",{staticClass:"material-design-icon__svg",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:this.fillColor}},[e("title",[this._v(this._s(this.title))]),this._v(" "),e("path",{attrs:{d:"M2,6V8H14V6H2M2,10V12H11V10H2M14.17,10.76L12.76,12.17L15.59,15L12.76,17.83L14.17,19.24L17,16.41L19.83,19.24L21.24,17.83L18.41,15L21.24,12.17L19.83,10.76L17,13.59L14.17,10.76M2,14V16H11V14H2Z"}})])])},staticRenderFns:[]},B=i("VU/8")(U,O,!1,null,null,null).exports,D={name:"soundcloud-icon",props:{title:{type:String,default:"Soundcloud icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String}}},K={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"material-design-icon soundcloud-icon",attrs:{"aria-hidden":this.decorative,role:"img","aria-label":this.title}},[e("svg",{staticClass:"material-design-icon__svg",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:this.fillColor}},[e("title",[this._v(this._s(this.title))]),this._v(" "),e("path",{attrs:{d:"M11.56,8.87V17H20.32V17C22.17,16.87 23,15.73 23,14.33C23,12.85 21.88,11.66 20.38,11.66C20,11.66 19.68,11.74 19.35,11.88C19.11,9.54 17.12,7.71 14.67,7.71C13.5,7.71 12.39,8.15 11.56,8.87M10.68,9.89C10.38,9.71 10.06,9.57 9.71,9.5V17H11.1V9.34C10.95,9.5 10.81,9.7 10.68,9.89M8.33,9.35V17H9.25V9.38C9.06,9.35 8.87,9.34 8.67,9.34C8.55,9.34 8.44,9.34 8.33,9.35M6.5,10V17H7.41V9.54C7.08,9.65 6.77,9.81 6.5,10M4.83,12.5C4.77,12.5 4.71,12.44 4.64,12.41V17H5.56V10.86C5.19,11.34 4.94,11.91 4.83,12.5M2.79,12.22V16.91C3,16.97 3.24,17 3.5,17H3.72V12.14C3.64,12.13 3.56,12.12 3.5,12.12C3.24,12.12 3,12.16 2.79,12.22M1,14.56C1,15.31 1.34,15.97 1.87,16.42V12.71C1.34,13.15 1,13.82 1,14.56Z"}})])])},staticRenderFns:[]},G=i("VU/8")(D,K,!1,null,null,null).exports,N={name:"PlaylistTrack",components:{PlayIcon:I,PlaylistRemoveIcon:B,SoundcloudIcon:G,StopIcon:d},props:["track"],methods:{removeFromPlaylist:function(){this.$store.commit("REMOVE_FROM_PLAYLIST",this.track)},togglePlayback:function(){this.$store.commit("SET_CURRENT_TRACK",this.track)}}},Z={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"playlist-track"},[i("img",{staticClass:"track-image",attrs:{src:t.track.artwork_url,alt:t.track.title}}),t._v(" "),i("div",{staticClass:"track-info"},[i("span",{staticClass:"track-info-title"},[t._v(t._s(t.track.title))]),t._v(" "),i("span",{staticClass:"track-info-username"},[t._v(t._s(t.track.user.username))])]),t._v(" "),i("div",{staticClass:"track-controls"},[t.track.is_playing?i("button",{staticClass:"btn",attrs:{theme:"dark",title:"Stop playback"},on:{click:t.togglePlayback}},[i("stop-icon")],1):i("button",{staticClass:"btn",attrs:{theme:"dark",title:"Play track"},on:{click:t.togglePlayback}},[i("play-icon")],1),t._v(" "),i("button",{staticClass:"btn",attrs:{theme:"dark",title:"Remove this track from the playlist"},on:{click:t.removeFromPlaylist}},[i("playlist-remove-icon")],1),t._v(" "),i("a",{staticClass:"btn",attrs:{href:t.track.permalink_url,theme:"dark",target:"_blank",rel:"noopener",title:"Open this track on SoundCloud"},on:{click:t.togglePlayback}},[i("soundcloud-icon")],1)])])},staticRenderFns:[]},Y={name:"Playlist",components:{PlaylistTrack:i("VU/8")(N,Z,!1,null,null,null).exports},computed:{playlist:function(){return this.$store.getters.playlist}}},j={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"playlist-container"},[t.playlist.length>0?i("div",{staticClass:"playlist-content"},[i("h2",{staticClass:"playlist-title"},[t._v(t._s(t.playlist.title))]),t._v(" "),i("ul",{staticClass:"playlist",attrs:{id:"playlist"}},t._l(t.playlist,function(t){return i("playlist-track",{key:"playlist-"+t.id,attrs:{track:t}})}))]):i("div",{staticClass:"empty-state-container"},[i("h3",[t._v("Your playlist is empty")]),t._v(" "),i("p",[t._v('Head back to the grid, select a track and click the "add" button to include a song on your playlist.')])])])},staticRenderFns:[]},q=i("VU/8")(Y,j,!1,null,null,null).exports,z={name:"playlist-plus-icon",props:{title:{type:String,default:"Playlist plus icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String}}},W={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"material-design-icon playlist-plus-icon",attrs:{"aria-hidden":this.decorative,role:"img","aria-label":this.title}},[e("svg",{staticClass:"material-design-icon__svg",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:this.fillColor}},[e("title",[this._v(this._s(this.title))]),this._v(" "),e("path",{attrs:{d:"M2,16H10V14H2M18,14V10H16V14H12V16H16V20H18V16H22V14M14,6H2V8H14M14,10H2V12H14V10Z"}})])])},staticRenderFns:[]},X=i("VU/8")(z,W,!1,null,null,null).exports,J={name:"playlist-check-icon",props:{title:{type:String,default:"Playlist check icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String}}},Q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"material-design-icon playlist-check-icon",attrs:{"aria-hidden":this.decorative,role:"img","aria-label":this.title}},[e("svg",{staticClass:"material-design-icon__svg",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:this.fillColor}},[e("title",[this._v(this._s(this.title))]),this._v(" "),e("path",{attrs:{d:"M14,10H2V12H14V10M14,6H2V8H14V6M2,16H10V14H2V16M21.5,11.5L23,13L16,20L11.5,15.5L13,14L16,17L21.5,11.5Z"}})])])},staticRenderFns:[]},tt={name:"PlayerControls",components:{Loader:v,PlaylistAddIcon:X,PlaylistCheckIcon:i("VU/8")(J,Q,!1,null,null,null).exports,SoundcloudIcon:G,StopIcon:d},computed:c()({},Object(r.b)(["currentTime","currentTrack","duration","isPlaying","inPlaylist","loadingCurrentTrack","soundcloudUrl","trackProgress"])),filters:{formatTime:function(t){return Math.floor(t/6e4)+":"+((Math.floor(t%6e4/1e3)<10?"0":"")+Math.floor(t%6e4/1e3))}},methods:{addToPlaylist:function(){this.$store.commit("ADD_TO_PLAYLIST",this.currentTrack)},removeFromPlaylist:function(){this.$store.commit("REMOVE_FROM_PLAYLIST",this.currentTrack)},togglePlayback:function(){this.$store.commit("SET_CURRENT_TRACK",this.currentTrack)},stopPlayback:function(){this.isPlaying&&(this.$store.state.current_track.is_playing=!1)}}},et={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"track-controls"},[i("transition",{attrs:{name:"progress-loading",mode:"out-in"}},[t.loadingCurrentTrack?i("div",{key:"1",staticClass:"track-loading"},[i("loader",{attrs:{type:"spinner",label:"Loading track"}}),i("span",[t._v("Loading track...")])],1):i("div",{key:"2",staticClass:"track-progress"},[i("span",{staticClass:"track-current-time"},[t._v(t._s(t._f("formatTime")(t.currentTime)))]),t._v(" "),i("progress",{ref:"progress",staticClass:"track-progress-bar",attrs:{max:"1"},domProps:{value:t.trackProgress}}),t._v(" "),i("span",{staticClass:"track-duration"},[t._v(t._s(t._f("formatTime")(t.duration)))])])]),t._v(" "),i("div",{staticClass:"track-buttons"},[i("button",{staticClass:"btn",attrs:{theme:"dark",title:"Stop playback"},on:{click:t.togglePlayback}},[i("stop-icon")],1),t._v(" "),t.inPlaylist?i("button",{staticClass:"btn",attrs:{theme:"dark",title:"Remove this track from the playlist"},on:{click:t.removeFromPlaylist}},[i("playlist-check-icon")],1):i("button",{staticClass:"btn",attrs:{theme:"dark",title:"Add this track to the playlist"},on:{click:t.addToPlaylist}},[i("playlist-add-icon")],1),t._v(" "),i("a",{staticClass:"btn",attrs:{href:t.soundcloudUrl,theme:"dark",target:"_blank",rel:"noopener",title:"Open this track on SoundCloud"},on:{click:t.stopPlayback}},[i("soundcloud-icon")],1)])],1)},staticRenderFns:[]},it={name:"Player",components:{PlayerControls:i("VU/8")(tt,et,!1,null,null,null).exports},computed:c()({},Object(r.b)(["currentTrack","hasError","isPlaying","streamSource"])),methods:{updateCurrentTime:function(){this.$store.state.current_track.current_time=1e3*this.$refs.audio.currentTime,this.$refs.audio.duration>0&&(this.$store.state.current_track.progress=this.$refs.audio.currentTime/this.$refs.audio.duration)},trackLoaded:function(){this.$store.state.loading_current_track=!1}}},at={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"player"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isPlaying,expression:"isPlaying"}],staticClass:"player-container",attrs:{id:"player"}},[i("audio",{ref:"audio",attrs:{src:t.streamSource},on:{canplaythrough:t.trackLoaded,timeupdate:t.updateCurrentTime}}),t._v(" "),i("div",{staticClass:"track-content"},[i("img",{staticClass:"track-image",attrs:{src:t.currentTrack.artwork_url,alt:t.currentTrack.title}}),t._v(" "),i("div",{staticClass:"track-info"},[i("span",{staticClass:"track-info-title"},[t._v(t._s(t.currentTrack.title))]),t._v(" "),t.currentTrack.user?i("span",{staticClass:"track-info-username"},[t._v(t._s(t.currentTrack.user.username))]):t._e()])]),t._v(" "),i("player-controls")],1)])},staticRenderFns:[]},rt={name:"App",components:{Grid:k,Navbar:F,Playlist:q,Player:i("VU/8")(it,at,!1,null,null,null).exports},methods:{closePlaylist:function(){this.$store.state.view_playlist=!1}},computed:{viewPlaylist:function(){return this.$store.getters.viewPlaylist}},watch:{viewPlaylist:function(){var t="viewing-playlist",e=document.documentElement;this.viewPlaylist?e.classList.add(t):e.classList.remove(t)}},created:function(){this.$store.dispatch("initSoundCloud")}},st={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("navbar"),this._v(" "),e("main",{staticClass:"view-container"},[e("div",{staticClass:"view-overlay",on:{click:this.closePlaylist}}),this._v(" "),e("grid"),this._v(" "),e("playlist")],1),this._v(" "),e("player")],1)},staticRenderFns:[]},lt=i("VU/8")(rt,st,!1,null,null,null).exports,nt=i("LHSm"),ct={current_track:{},loading_content:!1,loading_current_track:!1,placeholder:i.n(nt).a,playlist:{title:"Current Playlist",tracks:[]},sc_options:{kind:"trending",limit:200},search:{filter_type:"genre",placeholder:"Enter a genre",static_value:"",value:""},tracklist:[],view_playlist:!1},ot=i("bOdI"),ut=i.n(ot);const dt="c92343835f607734d719d94afcb679d7";var ht,pt=(ht={isPlaying:function(t){return t.current_track.is_playing},inPlaylist:function(t){return t.current_track.in_playlist},currentTrack:function(t){return t.current_track},currentTime:function(t){return t.current_track.current_time},duration:function(t){return t.current_track.duration},placeholder:function(t){return t.placeholder},playlist:function(t){return t.playlist.tracks},streamSource:function(t){return void 0!==t.current_track.stream_url?t.current_track.stream_url+"?client_id="+dt:""},soundcloudUrl:function(t){return t.current_track.permalink_url},searchFilterType:function(t){return t.search.filter_type},searchPlaceholder:function(t){return t.search.placeholder},searchValue:function(t){return t.search.value},searchValueStatic:function(t){return t.search.static_value},tracklist:function(t){return t.tracklist},trackProgress:function(t){return t.current_track.progress},hasError:function(t){return t.current_track.has_error},loadingContent:function(t){return t.loading_content},loadingCurrentTrack:function(t){return t.loading_current_track}},ut()(ht,"duration",function(t){return t.current_track.duration}),ut()(ht,"viewPlaylist",function(t){return t.view_playlist}),ht),_t={ADD_TO_PLAYLIST:function(t,e){t.playlist.tracks.some(function(t,i){return t.id===e.id})||(t.playlist.tracks.push(e),t.current_track.in_playlist=!0)},ADD_TRACK_PROPERTIES:function(t,e){e.current_time=0,e.progress=0,e.has_error=!1,e.is_playing=!1,e.in_playlist=!1},FETCH_TRACKS:function(t,e){t.loading_content=!0,"genre"===t.search.filter_type?(t.sc_options.genres=e,t.sc_options.q=""):(t.sc_options.genres="",t.sc_options.q=e)},OPTIMIZE_TRACK_IMAGE:function(t,e){null!==e.artwork_url?e.artwork_url=e.artwork_url.replace("large","t500x500"):e.artwork_url=e.user.avatar_url.replace("large","t500x500")},PUSH_TO_TRACKLIST:function(t,e){return t.tracklist=e},REMOVE_FROM_PLAYLIST:function(t,e){t.playlist.tracks.forEach(function(i,a){i.id===e.id&&t.playlist.tracks.splice(a,1)}),t.current_track.id===e.id&&(t.current_track.in_playlist=!1)},SELECT_FILTER:function(t,e){t.search.filter_type=e,t.search.value="",t.search.placeholder="Enter a "+e},SET_CURRENT_TRACK:function(t,e){var i=document.querySelector("audio"),a=document.querySelector("progress");t.current_track.id!==e.id&&(t.loading_current_track=!0,a&&(a.value=0),t.current_track.is_playing=!1,t.current_track=e,i.load()),t.current_track.is_playing=!t.current_track.is_playing,setTimeout(function(){t.current_track.is_playing?i.play():i.pause(),i.onerror=function(){t.current_track.has_error=!0,t.current_track.is_playing=!1}},100)},SET_IMAGE_PLACEHOLDER:function(t,e){return e.artwork_url=t.placeholder},SHOW_TRACKLIST:function(t,e){t.search.static_value=t.search.value,t.loading_content=!1},UPDATE_SEARCH_VALUE:function(t,e){return t.search.value=e}},ft=i("//Fk"),mt=i.n(ft);const vt="c92343835f607734d719d94afcb679d7";var gt={fetchTracks:function(t){var e=t.commit,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e("FETCH_TRACKS",i),SC.get("/tracks",this.state.sc_options).then(function(t){var i=[];new mt.a(function(a,r){t.forEach(function(t){e("ADD_TRACK_PROPERTIES",t),i.push(t)}),a()}).then(function(){return i.forEach(function(t){return e("OPTIMIZE_TRACK_IMAGE",t)})}).then(function(){return e("PUSH_TO_TRACKLIST",i)}).then(function(){return e("SHOW_TRACKLIST")})}).catch(function(t){})},initSoundCloud:function(t){t.commit;SC.initialize({client_id:vt})}},yt=function(){return new r.a.Store({state:ct,getters:pt,mutations:_t,actions:gt})};i("lPpX");a.a.config.productionTip=!1,a.a.use(r.a),a.a.use(l.a),a.a.prototype.$app_name="Soundcloud Grid",new a.a({el:"#app",store:yt,render:function(t){return t(lt)}})},lPpX:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.04d300cce8c01dd0df69.js.map